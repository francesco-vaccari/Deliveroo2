2024-10-22 12:02:44,690 - INFO - Loading actions from agent_dir/actions.json ...
2024-10-22 12:02:44,740 - INFO - Actions loaded: 
[1]
Executable: True
Description: This is a wrapper function for action_1. The agent moves by 1 cell, decreasing its first coordinate by 1.
        def function_1():
            with open('agent_dir/functions/agent_1/plan.txt', 'a') as f:
                f.write('action_1\n')
                f.close()
            wait()
        
        
[2]
Executable: True
Description: This is a wrapper function for action_2. The agent moves by 1 cell, increasing its first coordinate by 1.
        def function_2():
            with open('agent_dir/functions/agent_1/plan.txt', 'a') as f:
                f.write('action_2\n')
                f.close()
            wait()
        
        
[3]
Executable: True
Description: This is a wrapper function for action_3. The agent moves by 1 cell, decreasing its second coordinate by 1.
        def function_3():
            with open('agent_dir/functions/agent_1/plan.txt', 'a') as f:
                f.write('action_3\n')
                f.close()
            wait()
        
        
[4]
Executable: True
Description: This is a wrapper function for action_4. The agent moves by 1 cell, increasing its second coordinate by 1.
        def function_4():
            with open('agent_dir/functions/agent_1/plan.txt', 'a') as f:
                f.write('action_4\n')
                f.close()
            wait()
        
        
[5]
Executable: True
Description: This is a wrapper function for action_5. The agent picks up the objects on the ground. The agent has to be in the same cell of the objects to pick them up.
        def function_5():
            with open('agent_dir/functions/agent_1/plan.txt', 'a') as f:
                f.write('action_5\n')
                f.close()
            wait()
        
        
[6]
Executable: True
Description: This is a wrapper function for action_6. The agent puts down all the objects it is carrying on the ground. The agent will put down the objects in the cell it is currently in.
        def function_6():
            with open('agent_dir/functions/agent_1/plan.txt', 'a') as f:
                f.write('action_6\n')
                f.close()
            wait()
        
        

2024-10-22 12:03:30,336 - INFO - Desire added: 1. Desires:
Desire 1: The agent's long term goal is to explore all walkable cells in the environment and gather all available keys.
Executable: False
Trigger function:
None



2024-10-22 12:03:36,946 - INFO - Testing intention 
def function():
	global belief_set
	agent_pos = belief_set['agent']['coordinates']
	key_pos = belief_set['keys'][1]['coordinates']
	while agent_pos != key_pos:
		if agent_pos[0] > key_pos[0]:
			function_1()
		elif agent_pos[0] < key_pos[0]:
			function_2()
		if agent_pos[1] > key_pos[1]:
			function_3()
		elif agent_pos[1] < key_pos[1]:
			function_4()
	function_5()
2024-10-22 12:03:36,946 - INFO - The intention is valid.
2024-10-22 12:03:36,958 - INFO - Intention added to desire 1
2024-10-22 12:03:36,958 - INFO - Running intention 7 ...
2024-10-22 12:03:37,102 - INFO - Belief set thread started ...
2024-10-22 12:03:37,108 - INFO - Plan thread started ...
2024-10-22 12:03:37,108 - INFO - Started subprocess...
2024-10-22 12:03:37,109 - INFO - Belief set before intention 7 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': None}}, 'agent': {'id': 1, 'coordinates': [1, 1], 'parcels_carried_ids': [], 'has_key': False, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 1], 'carried_by_id': None}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:03:37,372 - INFO - Executing action action_1 ...
2024-10-22 12:03:37,612 - INFO - Action action_1 executed. Events received: [{'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': False, 'score': 0}}]
2024-10-22 12:03:37,957 - INFO - Executing action action_1 ...
2024-10-22 12:03:38,209 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:38,544 - INFO - Executing action action_1 ...
2024-10-22 12:03:38,759 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:39,076 - INFO - Executing action action_1 ...
2024-10-22 12:03:39,317 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:39,583 - INFO - Executing action action_1 ...
2024-10-22 12:03:39,795 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:40,103 - INFO - Executing action action_1 ...
2024-10-22 12:03:40,345 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:40,767 - INFO - Executing action action_1 ...
2024-10-22 12:03:40,979 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:41,303 - INFO - Executing action action_1 ...
2024-10-22 12:03:41,540 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:41,894 - INFO - Executing action action_1 ...
2024-10-22 12:03:42,121 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:42,395 - INFO - Executing action action_1 ...
2024-10-22 12:03:42,627 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:42,914 - INFO - Executing action action_1 ...
2024-10-22 12:03:43,120 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:43,449 - INFO - Executing action action_1 ...
2024-10-22 12:03:43,705 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:43,973 - INFO - Executing action action_1 ...
2024-10-22 12:03:44,203 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:44,581 - INFO - Executing action action_1 ...
2024-10-22 12:03:44,843 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:45,185 - INFO - Executing action action_1 ...
2024-10-22 12:03:45,416 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:45,770 - INFO - Executing action action_1 ...
2024-10-22 12:03:45,995 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:46,311 - INFO - Executing action action_1 ...
2024-10-22 12:03:46,522 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:46,838 - INFO - Executing action action_1 ...
2024-10-22 12:03:47,099 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:47,386 - INFO - Executing action action_1 ...
2024-10-22 12:03:47,586 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:47,966 - INFO - Executing action action_1 ...
2024-10-22 12:03:48,202 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:48,496 - INFO - Executing action action_1 ...
2024-10-22 12:03:48,721 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:49,037 - INFO - Executing action action_1 ...
2024-10-22 12:03:49,294 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:49,611 - INFO - Executing action action_1 ...
2024-10-22 12:03:49,908 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:50,244 - INFO - Executing action action_1 ...
2024-10-22 12:03:50,462 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:50,761 - INFO - Executing action action_1 ...
2024-10-22 12:03:50,974 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:51,344 - INFO - Executing action action_1 ...
2024-10-22 12:03:51,588 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:51,903 - INFO - Executing action action_1 ...
2024-10-22 12:03:52,127 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:52,438 - INFO - Executing action action_1 ...
2024-10-22 12:03:52,649 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:53,008 - INFO - Executing action action_1 ...
2024-10-22 12:03:53,258 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:53,565 - INFO - Executing action action_1 ...
2024-10-22 12:03:53,783 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:54,082 - INFO - Executing action action_1 ...
2024-10-22 12:03:54,300 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:54,612 - INFO - Executing action action_1 ...
2024-10-22 12:03:54,856 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:55,184 - INFO - Executing action action_1 ...
2024-10-22 12:03:55,408 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:55,708 - INFO - Executing action action_1 ...
2024-10-22 12:03:55,964 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:56,325 - INFO - Executing action action_1 ...
2024-10-22 12:03:56,578 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:56,886 - INFO - Executing action action_1 ...
2024-10-22 12:03:57,104 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:57,460 - INFO - Executing action action_1 ...
2024-10-22 12:03:57,686 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:58,096 - INFO - Executing action action_1 ...
2024-10-22 12:03:58,320 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:58,657 - INFO - Executing action action_1 ...
2024-10-22 12:03:58,874 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:59,185 - INFO - Executing action action_1 ...
2024-10-22 12:03:59,415 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:03:59,765 - INFO - Executing action action_1 ...
2024-10-22 12:04:00,014 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:00,355 - INFO - Executing action action_1 ...
2024-10-22 12:04:00,573 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:01,019 - INFO - Executing action action_1 ...
2024-10-22 12:04:01,295 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:01,648 - INFO - Executing action action_1 ...
2024-10-22 12:04:01,902 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:02,233 - INFO - Executing action action_1 ...
2024-10-22 12:04:02,447 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:02,792 - INFO - Executing action action_1 ...
2024-10-22 12:04:03,007 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:03,393 - INFO - Executing action action_1 ...
2024-10-22 12:04:03,667 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:04,050 - INFO - Executing action action_1 ...
2024-10-22 12:04:04,274 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:04,604 - INFO - Executing action action_1 ...
2024-10-22 12:04:04,870 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:05,162 - INFO - Executing action action_1 ...
2024-10-22 12:04:05,368 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:05,761 - INFO - Executing action action_1 ...
2024-10-22 12:04:06,006 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:06,301 - INFO - Executing action action_1 ...
2024-10-22 12:04:06,543 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:06,911 - INFO - Executing action action_1 ...
2024-10-22 12:04:07,122 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:04:07,153 - ERROR - Error during intention 7 execution. Intention 7 will be invalidated. Error: Command '['python3', 'agent_dir/functions/agent_1/functions.py']' timed out after 30 seconds
2024-10-22 12:04:07,266 - INFO - Belief set thread terminated.
2024-10-22 12:04:07,391 - INFO - Plan thread terminated.
2024-10-22 12:04:07,391 - INFO - Intention 7 execution has finished. Threads and subprocess terminated. Plan: ['action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1', 'action_1']. Events: [[{'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': False, 'score': 0}}], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []]
2024-10-22 12:04:07,391 - INFO - Belief set after intention 7 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': None}}, 'agent': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': False, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 1], 'carried_by_id': None}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:04:07,398 - INFO - Invalidating intention 7 ...
2024-10-22 12:04:13,822 - INFO - Testing intention 
def function():
    global belief_set
    agent = belief_set['agent']
    keys = belief_set['keys']
    for key in keys.values():
        if key['coordinates'][0] > agent['coordinates'][0]:
            function_2()
        elif key['coordinates'][0] < agent['coordinates'][0]:
            function_1()
        elif key['coordinates'][1] > agent['coordinates'][1]:
            function_4()
        elif key['coordinates'][1] < agent['coordinates'][1]:
            function_3()
    function_5()

2024-10-22 12:04:13,829 - INFO - The intention is valid.
2024-10-22 12:04:13,879 - INFO - Intention added to desire 1
2024-10-22 12:04:13,885 - INFO - Running intention 8 ...
2024-10-22 12:04:14,033 - INFO - Belief set thread started ...
2024-10-22 12:04:14,058 - INFO - Plan thread started ...
2024-10-22 12:04:14,089 - INFO - Started subprocess...
2024-10-22 12:04:14,102 - INFO - Belief set before intention 8 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': None}}, 'agent': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': False, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 1], 'carried_by_id': None}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:04:14,403 - INFO - Executing action action_5 ...
2024-10-22 12:04:14,666 - INFO - Action action_5 executed. Events received: [{'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': True, 'score': 0}}]
2024-10-22 12:04:15,022 - INFO - Plan thread terminated.
2024-10-22 12:04:15,060 - INFO - Belief set thread terminated.
2024-10-22 12:04:15,096 - INFO - Intention 8 execution has finished. Threads and subprocess terminated. Plan: ['action_5']. Events: [[{'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': True, 'score': 0}}]]
2024-10-22 12:04:15,096 - INFO - Belief set after intention 8 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': None}}, 'agent': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 1], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:04:29,793 - INFO - Testing intention 
def function():
    global belief_set
    agent_coordinates = belief_set['agent']['coordinates']
    for cell in belief_set['map']['grid']:
        if cell['cell_type'] == 'walkable':
            cell_coordinates = cell['cell_coordinates']
            while agent_coordinates != cell_coordinates:
                if agent_coordinates[0] < cell_coordinates[0]:
                    function_2()
                    agent_coordinates[0] += 1
                elif agent_coordinates[0] > cell_coordinates[0]:
                    function_1()
                    agent_coordinates[0] -= 1
                if agent_coordinates[1] < cell_coordinates[1]:
                    function_4()
                    agent_coordinates[1] += 1
                elif agent_coordinates[1] > cell_coordinates[1]:
                    function_3()
                    agent_coordinates[1] -= 1
            function_5()
            break
2024-10-22 12:04:29,805 - INFO - The intention is valid.
2024-10-22 12:04:29,818 - INFO - Intention added to desire 1
2024-10-22 12:04:29,843 - INFO - Running intention 9 ...
2024-10-22 12:04:29,936 - INFO - Belief set thread started ...
2024-10-22 12:04:29,948 - INFO - Plan thread started ...
2024-10-22 12:04:29,960 - INFO - Started subprocess...
2024-10-22 12:04:30,004 - INFO - Belief set before intention 9 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': None}}, 'agent': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 1], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:04:30,313 - INFO - Executing action action_5 ...
2024-10-22 12:04:30,530 - INFO - Action action_5 executed. Events received: []
2024-10-22 12:04:30,851 - INFO - Plan thread terminated.
2024-10-22 12:04:30,889 - INFO - Belief set thread terminated.
2024-10-22 12:04:30,895 - INFO - Intention 9 execution has finished. Threads and subprocess terminated. Plan: ['action_5']. Events: [[]]
2024-10-22 12:04:30,895 - INFO - Belief set after intention 9 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': None}}, 'agent': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 1], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:04:51,286 - INFO - Testing intention 
def function():
    global belief_set
    agent_coord = belief_set['agent']['coordinates']
    keys = belief_set['keys']
    for key in keys.values():
        if key['coordinates'] == agent_coord and key['carried_by_id'] is None:
            function_5()
            break
    if agent_coord[0] > 0 and belief_set['map']['grid'][agent_coord[0] - 1][agent_coord[1]]['cell_type'] == 'walkable':
        function_1()
    elif agent_coord[0] < belief_set['map']['width'] - 1 and belief_set['map']['grid'][agent_coord[0] + 1][agent_coord[1]]['cell_type'] == 'walkable':
        function_2()
    elif agent_coord[1] > 0 and belief_set['map']['grid'][agent_coord[0]][agent_coord[1] - 1]['cell_type'] == 'walkable':
        function_3()
    elif agent_coord[1] < belief_set['map']['height'] - 1 and belief_set['map']['grid'][agent_coord[0]][agent_coord[1] + 1]['cell_type'] == 'walkable':
        function_4()

2024-10-22 12:04:51,293 - INFO - The intention is valid.
2024-10-22 12:04:51,319 - INFO - Intention added to desire 1
2024-10-22 12:04:51,338 - INFO - Running intention 10 ...
2024-10-22 12:04:51,501 - INFO - Belief set thread started ...
2024-10-22 12:04:51,514 - INFO - Plan thread started ...
2024-10-22 12:04:51,532 - INFO - Started subprocess...
2024-10-22 12:04:51,576 - INFO - Belief set before intention 10 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': None}}, 'agent': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 1], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:05:21,617 - ERROR - Error during intention 10 execution. Intention 10 will be invalidated. Error: Command '['python3', 'agent_dir/functions/agent_1/functions.py']' timed out after 30 seconds
2024-10-22 12:05:21,653 - INFO - Plan thread terminated.
2024-10-22 12:05:21,709 - INFO - Belief set thread terminated.
2024-10-22 12:05:21,722 - INFO - Intention 10 execution has finished. Threads and subprocess terminated. Plan: []. Events: []
2024-10-22 12:05:21,722 - INFO - Belief set after intention 10 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': None}}, 'agent': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 1], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:05:21,753 - INFO - Invalidating intention 10 ...
2024-10-22 12:05:31,525 - INFO - Testing intention 
def function():
    global belief_set
    agent_coordinates = belief_set['agent']['coordinates']
    parcel_coordinates = None
    for parcel in belief_set['parcels'].values():
        if parcel['carried_by_id'] is None:
            parcel_coordinates = parcel['coordinates']
            break
    if parcel_coordinates is None:
        return
    dx = parcel_coordinates[0] - agent_coordinates[0]
    dy = parcel_coordinates[1] - agent_coordinates[1]
    if dx > 0:
        for i in range(dx):
            function_2()
    elif dx < 0:
        for i in range(abs(dx)):
            function_1()
    if dy > 0:
        for i in range(dy):
            function_4()
    elif dy < 0:
        for i in range(abs(dy)):
            function_3()
    function_5()
2024-10-22 12:05:31,544 - INFO - The intention is valid.
2024-10-22 12:05:31,595 - INFO - Intention added to desire 1
2024-10-22 12:05:31,595 - INFO - Running intention 11 ...
2024-10-22 12:05:31,750 - INFO - Belief set thread started ...
2024-10-22 12:05:31,750 - INFO - Plan thread started ...
2024-10-22 12:05:31,756 - INFO - Started subprocess...
2024-10-22 12:05:31,757 - INFO - Belief set before intention 11 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': None}}, 'agent': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 1], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:05:32,137 - INFO - Executing action action_3 ...
2024-10-22 12:05:32,397 - INFO - Action action_3 executed. Events received: [{'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [0, 0], 'parcels_carried_ids': [], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [0, 0], 'carried_by_id': 1}}]
2024-10-22 12:05:32,772 - INFO - Executing action action_5 ...
2024-10-22 12:05:33,027 - INFO - Action action_5 executed. Events received: [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [0, 0], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}]
2024-10-22 12:05:33,419 - INFO - Plan thread terminated.
2024-10-22 12:05:33,419 - INFO - Belief set thread terminated.
2024-10-22 12:05:33,426 - INFO - Intention 11 execution has finished. Threads and subprocess terminated. Plan: ['action_3', 'action_5']. Events: [[{'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [0, 0], 'parcels_carried_ids': [], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [0, 0], 'carried_by_id': 1}}], [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [0, 0], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}]]
2024-10-22 12:05:33,426 - INFO - Belief set after intention 11 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': 1}}, 'agent': {'id': 1, 'coordinates': [0, 0], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 0], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:05:49,748 - INFO - Testing intention 
def function():
    global belief_set
    for cell in belief_set['map']['grid']:
        if cell['cell_type'] == 'walkable' and 'id' in [parcel for parcel in belief_set['parcels'].values() if parcel['coordinates'] == cell['cell_coordinates']]:
            while belief_set['agent']['coordinates'] != cell['cell_coordinates']:
                if belief_set['agent']['coordinates'][0] < cell['cell_coordinates'][0]:
                    function_2()
                elif belief_set['agent']['coordinates'][0] > cell['cell_coordinates'][0]:
                    function_1()
                elif belief_set['agent']['coordinates'][1] < cell['cell_coordinates'][1]:
                    function_4()
                else:
                    function_3()
            function_5()
            break
2024-10-22 12:05:49,748 - INFO - The intention is valid.
2024-10-22 12:05:49,768 - INFO - Intention added to desire 1
2024-10-22 12:05:49,768 - INFO - Running intention 12 ...
2024-10-22 12:05:49,893 - INFO - Belief set thread started ...
2024-10-22 12:05:49,929 - INFO - Plan thread started ...
2024-10-22 12:05:49,935 - INFO - Started subprocess...
2024-10-22 12:05:49,936 - INFO - Belief set before intention 12 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': 1}}, 'agent': {'id': 1, 'coordinates': [0, 0], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 0], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:05:50,280 - INFO - Belief set thread terminated.
2024-10-22 12:05:50,311 - INFO - Plan thread terminated.
2024-10-22 12:05:50,311 - INFO - Intention 12 execution has finished. Threads and subprocess terminated. Plan: []. Events: []
2024-10-22 12:05:50,311 - INFO - Belief set after intention 12 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': 1}}, 'agent': {'id': 1, 'coordinates': [0, 0], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 0], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:06:21,470 - INFO - Testing intention 
def function():
    global belief_set
    for cell in belief_set['map']['grid']:
        if cell['cell_type'] == 'walkable':
            agent_coordinates = belief_set['agent']['coordinates']
            if cell['cell_coordinates'][0] > agent_coordinates[0]:
                function_2()
            elif cell['cell_coordinates'][0] < agent_coordinates[0]:
                function_1()
            if cell['cell_coordinates'][1] > agent_coordinates[1]:
                function_4()
            elif cell['cell_coordinates'][1] < agent_coordinates[1]:
                function_3()
            for key in belief_set['keys'].values():
                if key['coordinates'] == cell['cell_coordinates'] and key['carried_by_id'] is None:
                    function_5()
                    break
            for parcel in belief_set['parcels'].values():
                if parcel['coordinates'] == cell['cell_coordinates'] and parcel['carried_by_id'] is None:
                    function_5()
                    break
2024-10-22 12:06:21,508 - INFO - The intention is valid.
2024-10-22 12:06:21,527 - INFO - Intention added to desire 1
2024-10-22 12:06:21,552 - INFO - Running intention 13 ...
2024-10-22 12:06:21,801 - INFO - Belief set thread started ...
2024-10-22 12:06:21,820 - INFO - Plan thread started ...
2024-10-22 12:06:21,832 - INFO - Started subprocess...
2024-10-22 12:06:21,832 - INFO - Belief set before intention 13 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [0, 0], 'score': 20, 'carried_by_id': 1}}, 'agent': {'id': 1, 'coordinates': [0, 0], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [0, 0], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:06:22,235 - INFO - Executing action action_4 ...
2024-10-22 12:06:22,468 - INFO - Action action_4 executed. Events received: [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [0, 1], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [0, 1], 'carried_by_id': 1}}]
2024-10-22 12:06:22,829 - INFO - Executing action action_2 ...
2024-10-22 12:06:23,035 - INFO - Action action_2 executed. Events received: [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 1], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 1], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 1], 'carried_by_id': 1}}]
2024-10-22 12:06:23,377 - INFO - Executing action action_3 ...
2024-10-22 12:06:23,636 - INFO - Action action_3 executed. Events received: [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 0], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 0], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 0], 'carried_by_id': 1}}]
2024-10-22 12:06:23,930 - INFO - Executing action action_4 ...
2024-10-22 12:06:24,169 - INFO - Action action_4 executed. Events received: [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 1], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 1], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 1], 'carried_by_id': 1}}]
2024-10-22 12:06:24,547 - INFO - Executing action action_4 ...
2024-10-22 12:06:24,797 - INFO - Action action_4 executed. Events received: [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 2], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 2], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}]
2024-10-22 12:06:25,238 - INFO - Plan thread terminated.
2024-10-22 12:06:25,294 - INFO - Belief set thread terminated.
2024-10-22 12:06:25,332 - INFO - Intention 13 execution has finished. Threads and subprocess terminated. Plan: ['action_4', 'action_2', 'action_3', 'action_4', 'action_4']. Events: [[{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [0, 1], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [0, 1], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [0, 1], 'carried_by_id': 1}}], [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 1], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 1], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 1], 'carried_by_id': 1}}], [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 0], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 0], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 0], 'carried_by_id': 1}}], [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 1], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 1], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 1], 'carried_by_id': 1}}], [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 2], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 2], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}]]
2024-10-22 12:06:25,351 - INFO - Belief set after intention 13 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [1, 2], 'score': 20, 'carried_by_id': 1}}, 'agent': {'id': 1, 'coordinates': [1, 2], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [1, 2], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:06:40,315 - INFO - Testing intention 
def function():
    global belief_set
    function_12()
    function_9()

2024-10-22 12:06:40,322 - INFO - The intention is valid.
2024-10-22 12:06:40,334 - INFO - Intention added to desire 1
2024-10-22 12:06:40,341 - INFO - Running intention 14 ...
2024-10-22 12:06:40,572 - INFO - Belief set thread started ...
2024-10-22 12:06:40,597 - INFO - Plan thread started ...
2024-10-22 12:06:40,622 - INFO - Started subprocess...
2024-10-22 12:06:40,622 - INFO - Belief set before intention 14 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [1, 2], 'score': 20, 'carried_by_id': 1}}, 'agent': {'id': 1, 'coordinates': [1, 2], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [1, 2], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:06:40,905 - INFO - Executing action action_1 ...
2024-10-22 12:06:41,128 - INFO - Action action_1 executed. Events received: []
2024-10-22 12:06:41,453 - INFO - Executing action action_3 ...
2024-10-22 12:06:41,711 - INFO - Action action_3 executed. Events received: [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 1], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 1], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 1], 'carried_by_id': 1}}]
2024-10-22 12:06:42,059 - INFO - Executing action action_5 ...
2024-10-22 12:06:42,320 - INFO - Action action_5 executed. Events received: []
2024-10-22 12:06:42,644 - INFO - Belief set thread terminated.
2024-10-22 12:06:42,675 - INFO - Plan thread terminated.
2024-10-22 12:06:42,694 - INFO - Intention 14 execution has finished. Threads and subprocess terminated. Plan: ['action_1', 'action_3', 'action_5']. Events: [[], [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 1], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 1], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 1], 'carried_by_id': 1}}], []]
2024-10-22 12:06:42,694 - INFO - Belief set after intention 14 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [1, 1], 'score': 20, 'carried_by_id': 1}}, 'agent': {'id': 1, 'coordinates': [1, 1], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [1, 1], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:07:02,324 - INFO - Testing trigger function 
def should_pursue_goal(belief_set):
    # Check if there are any keys left in the environment
    for key in belief_set['keys']:
        if belief_set['keys'][key]['carried_by_id'] is None:
            return True
    # Check if there are any walkable cells that the agent has not visited
    for cell in belief_set['map']['grid']:
        if cell['cell_type'] == 'walkable' and cell['cell_coordinates'] != belief_set['agent']['coordinates']:
            return True
    return False
2024-10-22 12:07:02,331 - INFO - The trigger function is valid.
2024-10-22 12:07:02,331 - INFO - Trigger function added to desire 1.
2024-10-22 12:07:07,609 - INFO - Desire added: 2. Desires:
Desire 1: The agent's long term goal is to explore all walkable cells in the environment and gather all available keys.
    Intention ID: [7]
    Executable: False
    Description: The short-term goal is to move to the nearest key and pick it up.
                def function_7():
                    global belief_set
                    agent_pos = belief_set['agent']['coordinates']
                    key_pos = belief_set['keys'][1]['coordinates']
                    while agent_pos != key_pos:
                        if agent_pos[0] > key_pos[0]:
                            function_1()
                        elif agent_pos[0] < key_pos[0]:
                            function_2()
                        if agent_pos[1] > key_pos[1]:
                            function_3()
                        elif agent_pos[1] < key_pos[1]:
                            function_4()
                    function_5()
                
    Intention ID: [8]
    Executable: True
    Description: The short term goal is to move the agent to the cell containing the key and pick up the key.
                def function_8():
                    global belief_set
                    agent = belief_set['agent']
                    keys = belief_set['keys']
                    for key in keys.values():
                        if key['coordinates'][0] > agent['coordinates'][0]:
                            function_2()
                        elif key['coordinates'][0] < agent['coordinates'][0]:
                            function_1()
                        elif key['coordinates'][1] > agent['coordinates'][1]:
                            function_4()
                        elif key['coordinates'][1] < agent['coordinates'][1]:
                            function_3()
                    function_5()
                
    Intention ID: [9]
    Executable: True
    Description: The agent's short term goal is to move to the nearest walkable cell and pick up any key present there.
                def function_9():
                    global belief_set
                    agent_coordinates = belief_set['agent']['coordinates']
                    for cell in belief_set['map']['grid']:
                        if cell['cell_type'] == 'walkable':
                            cell_coordinates = cell['cell_coordinates']
                            while agent_coordinates != cell_coordinates:
                                if agent_coordinates[0] < cell_coordinates[0]:
                                    function_2()
                                    agent_coordinates[0] += 1
                                elif agent_coordinates[0] > cell_coordinates[0]:
                                    function_1()
                                    agent_coordinates[0] -= 1
                                if agent_coordinates[1] < cell_coordinates[1]:
                                    function_4()
                                    agent_coordinates[1] += 1
                                elif agent_coordinates[1] > cell_coordinates[1]:
                                    function_3()
                                    agent_coordinates[1] -= 1
                            function_5()
                            break
                
    Intention ID: [10]
    Executable: False
    Description: The agent's short term goal is to move to the nearest walkable cell not yet visited, and if there is a key in that cell, pick it up.
                def function_10():
                    global belief_set
                    agent_coord = belief_set['agent']['coordinates']
                    keys = belief_set['keys']
                    for key in keys.values():
                        if key['coordinates'] == agent_coord and key['carried_by_id'] is None:
                            function_5()
                            break
                    if agent_coord[0] > 0 and belief_set['map']['grid'][agent_coord[0] - 1][
                        agent_coord[1]]['cell_type'] == 'walkable':
                        function_1()
                    elif agent_coord[0] < belief_set['map']['width'] - 1 and belief_set['map'][
                        'grid'][agent_coord[0] + 1][agent_coord[1]]['cell_type'] == 'walkable':
                        function_2()
                    elif agent_coord[1] > 0 and belief_set['map']['grid'][agent_coord[0]][
                        agent_coord[1] - 1]['cell_type'] == 'walkable':
                        function_3()
                    elif agent_coord[1] < belief_set['map']['height'] - 1 and belief_set['map'
                        ]['grid'][agent_coord[0]][agent_coord[1] + 1]['cell_type'
                        ] == 'walkable':
                        function_4()
                
    Intention ID: [11]
    Executable: True
    Description: The agent's short term goal is to navigate towards the cell containing a parcel and pick up the parcel
                def function_11():
                    global belief_set
                    agent_coordinates = belief_set['agent']['coordinates']
                    parcel_coordinates = None
                    for parcel in belief_set['parcels'].values():
                        if parcel['carried_by_id'] is None:
                            parcel_coordinates = parcel['coordinates']
                            break
                    if parcel_coordinates is None:
                        return
                    dx = parcel_coordinates[0] - agent_coordinates[0]
                    dy = parcel_coordinates[1] - agent_coordinates[1]
                    if dx > 0:
                        for i in range(dx):
                            function_2()
                    elif dx < 0:
                        for i in range(abs(dx)):
                            function_1()
                    if dy > 0:
                        for i in range(dy):
                            function_4()
                    elif dy < 0:
                        for i in range(abs(dy)):
                            function_3()
                    function_5()
                
    Intention ID: [12]
    Executable: True
    Description: The agent's short term goal is to move to the nearest walkable cell that contains a parcel and pick it up.
                def function_12():
                    global belief_set
                    for cell in belief_set['map']['grid']:
                        if cell['cell_type'] == 'walkable' and 'id' in [parcel for parcel in
                            belief_set['parcels'].values() if parcel['coordinates'] == cell
                            ['cell_coordinates']]:
                            while belief_set['agent']['coordinates'] != cell['cell_coordinates'
                                ]:
                                if belief_set['agent']['coordinates'][0] < cell[
                                    'cell_coordinates'][0]:
                                    function_2()
                                elif belief_set['agent']['coordinates'][0] > cell[
                                    'cell_coordinates'][0]:
                                    function_1()
                                elif belief_set['agent']['coordinates'][1] < cell[
                                    'cell_coordinates'][1]:
                                    function_4()
                                else:
                                    function_3()
                            function_5()
                            break
                
    Intention ID: [13]
    Executable: True
    Description: The agent's short term goal is to move to a cell that contains a key, pick it up and then move to a cell that contains a parcel and pick it up. This is in line with the long term goal of exploring all walkable cells and gathering all the keys.
                def function_13():
                    global belief_set
                    for cell in belief_set['map']['grid']:
                        if cell['cell_type'] == 'walkable':
                            agent_coordinates = belief_set['agent']['coordinates']
                            if cell['cell_coordinates'][0] > agent_coordinates[0]:
                                function_2()
                            elif cell['cell_coordinates'][0] < agent_coordinates[0]:
                                function_1()
                            if cell['cell_coordinates'][1] > agent_coordinates[1]:
                                function_4()
                            elif cell['cell_coordinates'][1] < agent_coordinates[1]:
                                function_3()
                            for key in belief_set['keys'].values():
                                if key['coordinates'] == cell['cell_coordinates'] and key[
                                    'carried_by_id'] is None:
                                    function_5()
                                    break
                            for parcel in belief_set['parcels'].values():
                                if parcel['coordinates'] == cell['cell_coordinates'
                                    ] and parcel['carried_by_id'] is None:
                                    function_5()
                                    break
                
    Intention ID: [14]
    Executable: True
    Description: The agent's short term goal is to move to the nearest walkable cell that contains a parcel, pick it up, and then move to the nearest walkable cell that contains a key and pick it up.
                def function_14():
                    global belief_set
                    function_12()
                    function_9()
                
Executable: True
Trigger function:
def function_dtf_1(belief_set):
    for key in belief_set['keys']:
        if belief_set['keys'][key]['carried_by_id'] is None:
            return True
    for cell in belief_set['map']['grid']:
        if cell['cell_type'] == 'walkable' and cell['cell_coordinates'
            ] != belief_set['agent']['coordinates']:
            return True
    return False



Desire 2: The agent's long term goal is to pick up all parcels from the spawn points and deliver them to the appropriate delivery cells, while avoiding non-walkable areas and using keys to open doors if necessary.
Executable: False
Trigger function:
None



2024-10-22 12:07:18,191 - INFO - Testing intention 
def function():
    global belief_set
    if belief_set['agent']['parcels_carried_ids']:
        parcel_id = belief_set['agent']['parcels_carried_ids'][0]
        for cell in belief_set['map']['grid']:
            if cell['cell_type'] == 'delivery_cell':
                delivery_cell = cell['cell_coordinates']
                break
        while belief_set['agent']['coordinates'] != delivery_cell:
            if belief_set['agent']['coordinates'][0] > delivery_cell[0]:
                function_1()
            elif belief_set['agent']['coordinates'][0] < delivery_cell[0]:
                function_2()
            elif belief_set['agent']['coordinates'][1] > delivery_cell[1]:
                function_3()
            else:
                function_4()
        function_6()
2024-10-22 12:07:18,191 - INFO - The intention is valid.
2024-10-22 12:07:18,223 - INFO - Intention added to desire 2
2024-10-22 12:07:18,273 - INFO - Running intention 15 ...
2024-10-22 12:07:18,457 - INFO - Belief set thread started ...
2024-10-22 12:07:18,499 - INFO - Plan thread started ...
2024-10-22 12:07:18,511 - INFO - Started subprocess...
2024-10-22 12:07:18,511 - INFO - Belief set before intention 15 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {1: {'id': 1, 'coordinates': [1, 1], 'score': 20, 'carried_by_id': 1}}, 'agent': {'id': 1, 'coordinates': [1, 1], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}, 'keys': {1: {'id': 1, 'coordinates': [1, 1], 'carried_by_id': 1}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:07:18,766 - INFO - Executing action action_4 ...
2024-10-22 12:07:19,006 - INFO - Action action_4 executed. Events received: [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 2], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 2], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 2], 'carried_by_id': 1}}]
2024-10-22 12:07:19,388 - INFO - Executing action action_4 ...
2024-10-22 12:07:19,651 - INFO - Action action_4 executed. Events received: [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 3], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 3], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 3], 'carried_by_id': 1}}]
2024-10-22 12:07:19,994 - INFO - Executing action action_6 ...
2024-10-22 12:07:20,217 - INFO - Action action_6 executed. Events received: [{'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 3], 'parcels_carried_ids': [], 'has_key': False, 'score': 20}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 3], 'carried_by_id': None}}, {'event_type': 'object removed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 3], 'score': 20, 'carried_by_id': 1}}]
2024-10-22 12:07:20,516 - INFO - Plan thread terminated.
2024-10-22 12:07:20,541 - INFO - Belief set thread terminated.
2024-10-22 12:07:20,566 - INFO - Intention 15 execution has finished. Threads and subprocess terminated. Plan: ['action_4', 'action_4', 'action_6']. Events: [[{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 2], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 2], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 2], 'carried_by_id': 1}}], [{'event_type': 'object changed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 3], 'score': 20, 'carried_by_id': 1}}, {'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 3], 'parcels_carried_ids': [1], 'has_key': True, 'score': 0}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 3], 'carried_by_id': 1}}], [{'event_type': 'object changed', 'object_type': 'agent', 'object': {'id': 1, 'coordinates': [1, 3], 'parcels_carried_ids': [], 'has_key': False, 'score': 20}}, {'event_type': 'object changed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 3], 'carried_by_id': None}}, {'event_type': 'object removed', 'object_type': 'parcel', 'object': {'id': 1, 'coordinates': [1, 3], 'score': 20, 'carried_by_id': 1}}]]
2024-10-22 12:07:20,566 - INFO - Belief set after intention 15 execution:
{'map': {'width': 4, 'height': 4, 'grid': [{'cell_coordinates': [0, 0], 'cell_type': 'parcels_spawn'}, {'cell_coordinates': [0, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [0, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [0, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [1, 0], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 1], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 2], 'cell_type': 'walkable'}, {'cell_coordinates': [1, 3], 'cell_type': 'delivery_cell'}, {'cell_coordinates': [2, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [2, 3], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 0], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 1], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 2], 'cell_type': 'non_walkable'}, {'cell_coordinates': [3, 3], 'cell_type': 'non_walkable'}]}, 'parcels': {}, 'agent': {'id': 1, 'coordinates': [1, 3], 'parcels_carried_ids': [], 'has_key': False, 'score': 20}, 'keys': {1: {'id': 1, 'coordinates': [1, 3], 'carried_by_id': None}}, 'doors': {1: {'id': 1, 'coordinates': [1, 2]}}}
2024-10-22 12:07:30,522 - INFO - Testing trigger function 
def should_pursue_goal(belief_set):
    # Check if there are any parcels or keys left in the environment
    if belief_set['parcels'] or belief_set['keys']:
        return True
    # Check if the agent is carrying any parcels or keys
    if belief_set['agent']['parcels_carried_ids'] or belief_set['agent']['has_key']:
        return True
    return False
2024-10-22 12:07:30,535 - INFO - The trigger function is valid.
2024-10-22 12:07:30,535 - INFO - Trigger function added to desire 2.
