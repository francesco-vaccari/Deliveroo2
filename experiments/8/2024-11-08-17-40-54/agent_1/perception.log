2024-11-08 17:40:58,403 - DEBUG - [STORE_EVENTS] Started storing events thread
2024-11-08 17:40:58,415 - DEBUG - [PROCESS_EVENTS] Started processing events thread
2024-11-08 17:40:58,415 - DEBUG - [LOOP] Started loop thread
2024-11-08 17:40:59,364 - INFO - [STORE_EVENTS] New object type detected: map
2024-11-08 17:40:59,364 - INFO - [STORE_EVENTS] New object type detected: agent
2024-11-08 17:40:59,370 - INFO - [LOOP] Generating perception function for object type: map
2024-11-08 17:41:04,439 - INFO - [LOOP] Adding perception function for object type: map
def update_belief_set(event, belief_set):
    if 'map' not in belief_set:
        belief_set['map'] = {}
    if event['event_type'] == 'object added' or event['event_type'] == 'object changed':
        belief_set['map'] = event['object']
    elif event['event_type'] == 'object removed':
        belief_set['map'] = {}
    return belief_set
2024-11-08 17:41:04,440 - INFO - [LOOP] Generating perception function for object type: agent
2024-11-08 17:41:04,440 - INFO - [PROCESS_EVENTS] Processing events for object type: map
2024-11-08 17:41:07,760 - INFO - [LOOP] Adding perception function for object type: agent
def update_beliefs(event, beliefs):
    if event['object_type'] == 'agent':
        if event['event_type'] == 'object added':
            beliefs['agent'] = event['object']
        elif event['event_type'] == 'object changed':
            beliefs['agent'].update(event['object'])
        elif event['event_type'] == 'object removed':
            del beliefs['agent']
    return beliefs
2024-11-08 17:41:07,766 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:41:23,642 - INFO - [STORE_EVENTS] New object type detected: parcel
2024-11-08 17:41:23,648 - INFO - [PROCESS_EVENTS] Processing events for object type: map
2024-11-08 17:41:23,655 - INFO - [LOOP] Generating perception function for object type: parcel
2024-11-08 17:41:31,418 - INFO - [LOOP] Adding perception function for object type: parcel
def update_belief_set(event, belief_set):
    if event['object_type'] != 'parcel':
        return belief_set
    if 'parcels' not in belief_set:
        belief_set['parcels'] = {}
    if event['event_type'] == 'object added':
        belief_set['parcels'][event['object']['id']] = event['object']
    elif event['event_type'] == 'object changed':
        if event['object']['id'] in belief_set['parcels']:
            belief_set['parcels'][event['object']['id']].update(event['object'])
    elif event['event_type'] == 'object removed':
        if event['object']['id'] in belief_set['parcels']:
            del belief_set['parcels'][event['object']['id']]
    return belief_set
2024-11-08 17:41:31,424 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:41:48,075 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:41:48,578 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:41:49,133 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:41:49,838 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:41:50,314 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:41:50,942 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:41:51,022 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:41:51,029 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:41:59,684 - INFO - [PROCESS_EVENTS] Processing events for object type: map
2024-11-08 17:42:17,681 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:42:17,694 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:42:30,115 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:42:30,218 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:42:30,430 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:42:44,157 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:42:44,164 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:42:44,343 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:42:44,344 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:42:45,034 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:42:45,041 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:43:20,472 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:43:20,602 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:43:21,185 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:43:21,192 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:43:21,504 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:43:21,555 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:43:21,610 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:43:31,269 - INFO - [STORE_EVENTS] New object type detected: battery
2024-11-08 17:43:31,276 - INFO - [LOOP] Generating perception function for object type: battery
2024-11-08 17:43:31,276 - INFO - [PROCESS_EVENTS] Processing events for object type: map
2024-11-08 17:43:37,997 - INFO - [LOOP] Adding perception function for object type: battery
def update_belief_set(event, belief_set):
    if event['object_type'] != 'battery':
        return belief_set
    if event['event_type'] == 'object added':
        if 'batteries' not in belief_set:
            belief_set['batteries'] = {}
        belief_set['batteries'][event['object']['id']] = event['object']['coordinates']
    elif event['event_type'] == 'object changed':
        if 'batteries' in belief_set and event['object']['id'] in belief_set['batteries']:
            belief_set['batteries'][event['object']['id']] = event['object']['coordinates']
    elif event['event_type'] == 'object removed':
        if 'batteries' in belief_set and event['object']['id'] in belief_set['batteries']:
            del belief_set['batteries'][event['object']['id']]
    return belief_set
2024-11-08 17:43:38,010 - INFO - [PROCESS_EVENTS] Processing events for object type: battery
2024-11-08 17:43:49,501 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:44:00,937 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:44:01,616 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:44:28,741 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:44:29,267 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:44:29,311 - INFO - [PROCESS_EVENTS] Processing events for object type: battery
2024-11-08 17:44:41,125 - INFO - [STORE_EVENTS] New object type detected: key
2024-11-08 17:44:41,131 - INFO - [PROCESS_EVENTS] Processing events for object type: map
2024-11-08 17:44:41,176 - INFO - [LOOP] Generating perception function for object type: key
2024-11-08 17:44:45,376 - INFO - [LOOP] Adding perception function for object type: key
def update_belief_set(event, belief_set):
    if event['object_type'] == 'key':
        if event['event_type'] == 'object added':
            belief_set['keys'] = {event['object']['id']: event['object']}
        elif event['event_type'] == 'object changed':
            belief_set['keys'][event['object']['id']] = event['object']
        elif event['event_type'] == 'object removed':
            del belief_set['keys'][event['object']['id']]
    return belief_set
2024-11-08 17:44:45,395 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:45:01,203 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:45:01,562 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:45:02,180 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:45:02,775 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:45:31,236 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:45:31,753 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:45:31,760 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:45:38,875 - INFO - [STORE_EVENTS] New object type detected: door
2024-11-08 17:45:38,988 - INFO - [LOOP] Generating perception function for object type: door
2024-11-08 17:45:44,964 - INFO - [LOOP] Adding perception function for object type: door
def update_belief_set(event, belief_set):
    if event['object_type'] == 'door':
        if event['event_type'] == 'object added':
            if 'doors' not in belief_set:
                belief_set['doors'] = {}
            belief_set['doors'][event['object']['id']] = event['object']
        elif event['event_type'] == 'object changed':
            if 'doors' in belief_set and event['object']['id'] in belief_set['doors']:
                belief_set['doors'][event['object']['id']] = event['object']
        elif event['event_type'] == 'object removed':
            if 'doors' in belief_set and event['object']['id'] in belief_set['doors']:
                del belief_set['doors'][event['object']['id']]
    return belief_set
2024-11-08 17:45:44,965 - INFO - [PROCESS_EVENTS] Processing events for object type: door
2024-11-08 17:46:25,650 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:46:25,676 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:46:25,883 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:46:25,883 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:47:11,007 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:47:11,033 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:47:11,456 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:47:11,488 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:48:27,602 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:48:27,628 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:48:35,059 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:48:35,060 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:48:35,551 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:48:35,558 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:48:36,094 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:48:36,119 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:48:36,620 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:48:36,626 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:49:31,671 - INFO - [PROCESS_EVENTS] Processing events for object type: map
2024-11-08 17:49:31,672 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:49:31,735 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:49:31,854 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:49:31,854 - INFO - [PROCESS_EVENTS] Processing events for object type: battery
2024-11-08 17:49:31,854 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:49:31,855 - ERROR - [PROCESS_EVENTS] Error while processing object type: key with event: {'event_type': 'object removed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 3], 'carried_by_id': 1}}
2024-11-08 17:49:31,867 - INFO - [PROCESS_EVENTS] Processing events for object type: door
2024-11-08 17:49:31,875 - INFO - [LOOP] Generating perception function for object type: key
2024-11-08 17:49:36,013 - ERROR - [LOOP] [Q1] Error while testing function: Error with input event: {'event_type': 'object removed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 3], 'carried_by_id': 1}}
Error: 1
2024-11-08 17:49:36,025 - ERROR - [LOOP] Generation attempt 1:1 for object type key failed with error Error with input event: {'event_type': 'object removed', 'object_type': 'key', 'object': {'id': 1, 'coordinates': [1, 3], 'carried_by_id': 1}}
Error: 1, retrying...
2024-11-08 17:49:40,797 - INFO - [LOOP] Adding perception function for object type: key
def update_beliefs(event, beliefs):
    if event['object_type'] == 'key':
        if event['event_type'] == 'object added':
            beliefs['keys'][event['object']['id']] = event['object']
        elif event['event_type'] == 'object changed':
            beliefs['keys'][event['object']['id']].update(event['object'])
        elif event['event_type'] == 'object removed':
            if event['object']['id'] in beliefs['keys']:
                del beliefs['keys'][event['object']['id']]
    return beliefs
2024-11-08 17:49:48,051 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:49:48,569 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:49:49,107 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:49:49,719 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:49:49,719 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:50:41,552 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:50:41,584 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:50:56,846 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:50:56,865 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:51:20,982 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:51:20,989 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:51:21,076 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:51:21,196 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:51:37,072 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:51:37,210 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:51:37,235 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:51:37,303 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:51:55,140 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:51:55,153 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:51:55,179 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:06,778 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:52:07,046 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:07,046 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:52:07,052 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:07,448 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:07,448 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:52:07,498 - INFO - [PROCESS_EVENTS] Processing events for object type: parcel
2024-11-08 17:52:15,701 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:15,701 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:16,125 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:16,132 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:16,779 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:16,785 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:17,127 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:17,214 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:17,667 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:17,667 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:19,074 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:19,087 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:19,429 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:19,540 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:19,938 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:20,088 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:20,591 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:20,591 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:21,196 - INFO - [PROCESS_EVENTS] Processing events for object type: agent
2024-11-08 17:52:21,203 - INFO - [PROCESS_EVENTS] Processing events for object type: key
2024-11-08 17:52:38,819 - DEBUG - [PROCESS_EVENTS] Stopped processing events thread
2024-11-08 17:52:38,819 - DEBUG - [STORE_EVENTS] Stopped storing events thread
2024-11-08 17:52:38,819 - DEBUG - [LOOP] Stopped loop thread
